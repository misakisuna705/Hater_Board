let user_email,dom_user_state,dom_user_account,dom_logbox,dom_facebook_sign_in,dom_google_sign_in,dom_email_login,dom_email_sign_up,dom_email,dom_password;function sign_up(){firebase.auth().createUserWithEmailAndPassword(dom_email.value,dom_password.value).then(e=>{alert("Success!"),dom_email.value="",dom_password.value="",auth_build(e.user)}).catch(e=>{alert(e.message),dom_email.value="",dom_password.value=""})}function sign_facebook(){let e=new firebase.auth.FacebookAuthProvider;firebase.auth().signInWithPopup(e).then(e=>{auth_build(e.user)}).catch(e=>{alert(e.message)})}function sign_google(){let e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e).then(e=>{auth_build(e.user)}).catch(e=>{alert(e.message)})}function sign_email(){firebase.auth().signInWithEmailAndPassword(dom_email.value,dom_password.value).then(e=>{auth_update(e.user)}).catch(e=>{alert(e.message),dom_email.value="",dom_password.value=""})}function sign_out(){firebase.auth().signOut().then(()=>{window.location.reload("index.html")}).catch(e=>{alert(e.message)})}function auth_build(e){let a={user:e.uid,email:e.email,login:1};firebase.database().ref("user").child(e.uid).set(a)}function auth_update(e){let a;firebase.database().ref("user/"+e.uid).once("value",s=>{a=s.val().login+1;let i={user:e.uid,email:e.email,login:a};firebase.database().ref("user").child(e.uid).set(i)})}function show_account(){document.getElementsByClassName("nav_list")[0].classList.remove("show"),top_box_update("account"),post_list("hide"),push_list("hide"),post_edit_box("hide"),push_edit_box("hide")}